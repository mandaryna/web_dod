{"version":3,"sources":["feedbacks.js"],"names":[],"mappings":";;AAAA,IAAI,UAAU,QAAQ,SAAR,CAAd;AACA,IAAI,aAAa,QAAQ,YAAR,CAAjB;AACA,IAAI,SAAS,QAAQ,MAAR,EAAb;AACA,IAAI,WAAW,QAAQ,UAAR,CAAf;;AAEA,OAAO,GAAP,CAAW,GAAX,EAAgB,UAAU,GAAV,EAAe,GAAf,EAAoB,IAApB,EAA0B;AACtC,QAAI,MAAJ,CAAW,UAAX,EAAuB;AACnB,eAAO;AADY,KAAvB;AAGH,CAJD;;AAMA,OAAO,IAAP,CAAY,GAAZ,EAAiB,UAAU,GAAV,EAAe,GAAf,EAAoB,IAApB,EAA0B;AACvC,YAAQ,GAAR,CAAY,WAAZ,EAAyB,IAAI,IAAJ,CAAS,MAAT,CAAzB,EAA2C,IAA3C;;AAEA,QAAI,cAAc,WAAW,eAAX,CAA2B;AACzC,iBAAS,OADgC;AAEzC,cAAM;AACF,kBAAM,6BADJ;AAEF,kBAAM,QAAQ,GAAR,CAAY;AAFhB;AAFmC,KAA3B,CAAlB;;AAQA,QAAI,OAAO,IAAI,IAAJ,CAAS,OAAT,IAAoB,eAApB,GAAsC,IAAI,IAAJ,CAAS,MAAT,CAAjD;;AAEA,QAAI,cAAc;AACd,cAAM,IAAI,IAAJ,CAAS,OAAT,CADQ,EACW;AACzB,YAAI,6BAFU,EAEqB;AACnC,iBAAS,UAHK,EAGO;AACrB,cAAM,IAJQ,CAIH;AACX;AALc,KAAlB;;AAQA,gBAAY,QAAZ,CAAqB,WAArB,EAAkC,UAAS,KAAT,EAAgB,IAAhB,EAAqB;AACnD,YAAG,KAAH,EAAS;AACL,oBAAQ,GAAR,CAAY,KAAZ;AACA;AACH,SAHD,MAGK;AACD,oBAAQ,GAAR,CAAY,mBAAmB,KAAK,QAApC;AACA;AACH;AACJ,KARD;;AAWA,QAAI,QAAJ,CAAa,GAAb;AACH,CAjCD;;AAmCA,OAAO,OAAP,GAAiB,MAAjB","file":"feedbacks-compiled.js","sourcesContent":["var express = require('express');\r\nvar nodemailer = require('nodemailer');\r\nvar router = express.Router();\r\nvar feedback = require('../model');\r\n\r\nrouter.get('/', function (req, res, next) {\r\n    res.render('feedback', {\r\n        title: 'write feedback'\r\n    })\r\n});\r\n\r\nrouter.post('/', function (req, res, next) {\r\n    console.log('request: ', req.body['text'], '\\n');\r\n\r\n    var transporter = nodemailer.createTransport({\r\n        service: 'Gmail',\r\n        auth: {\r\n            user: 'marina.tilnyak.97@gmail.com',\r\n            pass: process.env.GMAIL_PASSWORD\r\n        }\r\n    });\r\n\r\n    var text = req.body['email'] + \"\\n=========\\n\" + req.body['text'];\r\n\r\n    var mailOptions = {\r\n        from: req.body['email'], // ТУТ\r\n        to: 'marina.tilnyak.97@gmail.com', // list of receivers\r\n        subject: 'Feedback', // Subject line\r\n        text: text //, // plaintext body\r\n        // html: '<b>Hello world ✔</b>' // You can choose to send an HTML body instead\r\n    };\r\n\r\n    transporter.sendMail(mailOptions, function(error, info){\r\n        if(error){\r\n            console.log(error);\r\n            //res.json({yo: 'error'});\r\n        }else{\r\n            console.log('Message sent: ' + info.response);\r\n            //res.json({yo: info.response});\r\n        }\r\n    });\r\n\r\n\r\n    res.redirect('/')\r\n});\r\n\r\nmodule.exports = router;"]}